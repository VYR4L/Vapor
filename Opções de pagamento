#include <stdio.h>
#include <locale.h>
#include <stdlib.h>

float aVista(float gasto);
float parcelado(float gasto);


float aVista(float gasto) {
    float aVista;

    aVista = gasto - (gasto * 10 / 100); // Calcula o valor com desconto de 10%

    printf("\nPagamento a vista selecionado. O valor total com desconto sera: R$ %.2f\n", aVista);
}

float parcelado(float gasto) {
    int qntParcelas;
    float valorParcela;
    float juros;
    int validaQntParcela = 0;

    printf("\nVoce poderá parcelar de 1 a 12 parcelas\n");
    printf("(Lembrando que ate 5 parcelas os juros não serão inclusos)\n");

    while(validaQntParcela == 0) {
        printf("\nDigite a quantidade de parcelas: ");
        scanf("%d", &qntParcelas);

        if(qntParcelas >= 1 && qntParcelas <= 5) {
            valorParcela = gasto / qntParcelas; // Calcula o valor de cada parcela sem juros

            printf("\nPagamento parcelado em %d vezes selecionado.", qntParcelas);
            printf("\nValor total da compra sem juros: R$%.2f\n", gasto);
            printf("Valor de cada parcela sem juros: R$%.2f\n", valorParcela);

            validaQntParcela = 1; //Sai do loop
        } else if (qntParcelas >= 6 && qntParcelas <= 12) {
            juros = gasto * 0.03 * qntParcelas;

            float valorParcela = (gasto + juros) / qntParcelas;

            printf("\nPagamento parcelado em %d vezes selecionado", qntParcelas);
            printf("\nValor total da compra com juros: R$%.2f\n", gasto + juros);
            printf("Valor de cada parcela com juros: R$%.2f\n", valorParcela);

            validaQntParcela = 1; //Sai do loop
        } else {
            printf("\nEscolha uma quantidade de parcelas entre 1 a 12");
            validaQntParcela = 0; //Continua no loop
        }
    }
}

float informaValor(){
    float gasto;
    printf("Informe o valor total gasto na compra: R$");
    scanf("%f", &gasto);
    return gasto;
}

void opcoesPagamento(){
    printf("\nOpcoes de pagamento:\n");
    printf("1 - A vista (10%% de desconto)\n");
    printf("2 - Parcelado\n");
}

void opcaoInvalida(){
    printf("Opcao invalida.\n");
}

int main() {
    setlocale(LC_ALL, "Portuguese");
    float gasto = informaValor();

    //valor_desconto = gasto * 0.9; // Calcula o valor com desconto de 10%
    //valor_parcela = gasto / 2; // Calcula o valor de cada parcela

    opcoesPagamento();

    int opcao;

        printf("\nDigite a opcao desejada: ");
        scanf("%d", &opcao);

            if(opcao == 1) {
            aVista(gasto);
        }else if(opcao == 2) {
            parcelado(gasto);
        } else {
            printf("Opcao invalida.");
        }

    return 0;
}
